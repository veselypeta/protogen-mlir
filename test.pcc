
//Network{
//    Ordered fwd;
//};
//
//Cache{
//    State I;
//} cache;
//
Directory{
    State I;
    set[NrCaches] ID cache;
} directory;
//
//Message Request{};

Architecture directory {
    Stable {I, M}

    Process(S, Upgrade, M){
        if cache.contains(Upgrade.src) {
            cache.del(Upgrade.src);
            break;
        }
        State = I;
    }
}